<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>레시피 관리 웹사이트</title>
    <link id="main-css" rel="stylesheet" href="4_main.css">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
<header>
    <a href="4_main.html">
        <img id="logo" src="logo.png" alt="Logo">
    </a>
    <input id="search-bar" type="text" placeholder="레시피 검색...">
    <div id="user-name"></div>
</header>
<nav>
    <a href="6_recipe.html">냉장고</a>
    <a href="8_myrecipes.html">내 레시피</a>
    <a href="7_newrecipe.html" onclick="goToNewRecipePage()">레시피 만들기</a>
    <a href="9_communication.html">소통</a>
    <a href="10_qna.html">문의 사항</a>
</nav>
<div class="content">
    <div class="left-panel">
        <div class="form-section">
            <h3>냉장고 리스트</h3>
        </div>
    </div>
    <div class="right-panel">
        <div class="popular-recipes">
            <h3>인기 레시피</h3>
        </div>
        <div class="my-recipes">
            <h3>내 레시피</h3>
        </div>
        <div class="community">
            <h3>소통</h3>
            <ul id="communication-list"></ul> <!-- 소통 리스트를 추가합니다 -->
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const kakaoNickname = localStorage.getItem('kakaoNickname');
        if (kakaoNickname) {
            const userNameElement = document.getElementById('user-name');
            userNameElement.textContent = kakaoNickname;
        }

        // "레시피 만들기" 페이지로 이동하는 기능
        function goToNewRecipePage() {
            location.href = "7_newrecipe.html";
        }

        // 통신 관련 데이터를 동적으로 추가하는 함수
        function addCommunicationListItem(data) {
            var list = document.getElementById("communication-list");
            var listItem = document.createElement("li");
            listItem.textContent = data;
            list.appendChild(listItem);
        }

        // 통신 관련 데이터를 받아오고 리스트에 추가하는 예시
        setTimeout(function() {
            var mockData = ["소통 내용 1", "소통 내용 2", "소통 내용 3"];
            mockData.forEach(function(item) {
                addCommunicationListItem(item);
            });
        }, 1000);
    });
</script>
<script src="5_recipe.js"></script>
<script>
    // 캐시 방지용 CSS 재로드
    document.getElementById('main-css').href = '4_main.css?v=' + new Date().getTime();
</script>
</body>
</html>
