<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>소통</title>
<link rel="stylesheet" href="9_commincation.css">
<script>
    window.onload = function() {
        // 작성된 게시물이 있는지 확인 후 표시
        var storedPost = localStorage.getItem('newPost');
        if (storedPost) {
            var post = JSON.parse(storedPost);
            displayPost(post);
        }
    };

    function displayPost(post) {
        var tableBody = document.querySelector('.content table tbody');
        var row = document.createElement('tr');
        row.innerHTML = "<td>" + post.title + "</td><td>" + post.content + "</td><td>" + new Date().toLocaleDateString() + "</td>";
        tableBody.appendChild(row);
    }
</script>
    
</head>
<body>
<div class="container">
    <header>
        <img id="logo" src="logo.png" alt="Logo">
        <input id="search-bar" type="text" placeholder="레시피 검색...">
        <div id="user-name">사용자 이름
            <div class="dropdown-icon">&#9660;</div>
        </div>
    </header>
    <nav>
        <a href="5_listADD.html">냉장고</a>
        <a href="8_myrecipes.html">내 레시피</a>
        <a href="7_newrecipe.html">레시피 만들기</a>
        <a href="9_commincation.html">소통</a>
        <a href="10_qna.html">문의 사항</a>
    </nav>
    <div class="content">
        <table>
            <thead>
                <tr>
                    <th>제목</th>
                    <th>내용</th>
                    <th>작성일</th> <!-- 작성일을 추가 -->
                </tr>
            </thead>
            <tbody id="postLsit">

            </tbody>
        </table>  
        <button class="create-button" onclick="window.location.href='9-1_newcommuni.html';">작성하기</button>
    </div> 
</div>
<script src="9_commincation.js">
    var storedPost = localStorage.getItem('newPost');
    if (storedPost) {
        var post = JSON.parse(storedPost);
        displayPost(post);
    }

    function displayPost(post) {
        var tableBody = document.getElementById('postList'); // 게시물을 표시할 위치 지정
        var row = document.createElement('tr');
        row.innerHTML = "<td>" + post.title + "</td><td>" + post.content + "</td><td>" + new Date().toLocaleDateString() + "</td>";
        tableBody.appendChild(row);
    }
</script>
</body>
</html>
